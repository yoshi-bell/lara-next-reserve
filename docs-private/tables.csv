テーブル名,カラム名,型,PRIMARY KEY,UNIQUE KEY,NOT NULL,FOREIGN KEY,補足
users,id,BIGINT,TRUE,,TRUE,,
users,name,VARCHAR(255),,,TRUE,,
users,email,VARCHAR(255),,TRUE,TRUE,,
users,password,VARCHAR(255),,,TRUE,,
users,phone_number,VARCHAR(20),,,TRUE,,追加要件
users,gender,VARCHAR(10),,,,,enum('male','female','other')等
users,birthday,DATE,,,,,
users,email_verified_at,TIMESTAMP,,,,,
users,remember_token,VARCHAR(100),,,,,
users,created_at,TIMESTAMP,,,,,
users,updated_at,TIMESTAMP,,,,,
shops,id,BIGINT,TRUE,,TRUE,,
shops,name,VARCHAR(255),,,TRUE,,
shops,area_id,BIGINT,,,TRUE,areas(id),
shops,genre_id,BIGINT,,,TRUE,genres(id),
shops,description,TEXT,,,TRUE,,
shops,image_url,VARCHAR(255),,,TRUE,,
shops,start_time,TIME,,,TRUE,,スロット生成のデフォルト開始時間
shops,end_time,TIME,,,TRUE,,スロット生成のデフォルト終了時間
shops,default_capacity,INTEGER,,,TRUE,,スロット生成のデフォルト最大人数
shops,default_stay_time,INTEGER,,,TRUE,,デフォルト滞在時間(分)
shops,created_at,TIMESTAMP,,,,,
shops,updated_at,TIMESTAMP,,,,,
reservation_slots,id,BIGINT,TRUE,,TRUE,,在庫管理用テーブル
reservation_slots,shop_id,BIGINT,,,TRUE,shops(id),複合ユニーク(shop_id, slot_datetime)
reservation_slots,slot_datetime,DATETIME,,,TRUE,,30分刻みの枠日時, 複合ユニーク(shop_id, slot_datetime)
reservation_slots,max_capacity,INTEGER,,,TRUE,,その枠の最大人数
reservation_slots,current_reserved,INTEGER,,,TRUE,,現在の予約人数(初期値0)
reservation_slots,created_at,TIMESTAMP,,,,,
reservation_slots,updated_at,TIMESTAMP,,,,,
reservations,id,BIGINT,TRUE,,TRUE,,
reservations,user_id,BIGINT,,,TRUE,users(id),複合ユニーク(user_id, start_at)
reservations,shop_id,BIGINT,,,TRUE,shops(id),
reservations,start_at,DATETIME,,,TRUE,,予約開始日時, 複合ユニーク(user_id, start_at)
reservations,number,INTEGER,,,TRUE,,予約人数
reservations,usage_time,INTEGER,,,TRUE,,予約時の滞在時間(分)
reservations,created_at,TIMESTAMP,,,,,
reservations,updated_at,TIMESTAMP,,,,,
favorites,id,BIGINT,TRUE,,TRUE,,
favorites,user_id,BIGINT,,,TRUE,users(id),複合ユニーク(user_id, shop_id)
favorites,shop_id,BIGINT,,,TRUE,shops(id),複合ユニーク(user_id, shop_id)
favorites,created_at,TIMESTAMP,,,,,
favorites,updated_at,TIMESTAMP,,,,,
areas,id,BIGINT,TRUE,,TRUE,,
areas,name,VARCHAR(255),,,TRUE,,
areas,created_at,TIMESTAMP,,,,,
areas,updated_at,TIMESTAMP,,,,,
genres,id,BIGINT,TRUE,,TRUE,,
genres,name,VARCHAR(255),,,TRUE,,
genres,created_at,TIMESTAMP,,,,,
genres,updated_at,TIMESTAMP,,,,,